$(document).ready(function(){function e(){title="Record Successfully Updated!","Save"==$("#btnSave").val()&&(title="Record Successfully Stored!"),$.notify(title,"success")}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),xhrPool=[];var t=$("#myTable").DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:dataurl,columns:[{data:"code"},{data:"tenant"},{data:"progress"},{data:"action"}]});myId="",$(this).on("click","#btnShowPendingRequirements",function(e){myId=$(this).val(),$.get(url+"/"+$(this).val()+"/edit",function(e){Object.keys(e).length>0?(content="",console.log(e),$.each(e,function(e,t){1==t.is_fulfilled?mode="checked":mode="",content+="<input required type='checkbox' value='"+t.id+"' id='"+t.description+"' name='checkboxReq[]' "+mode+" class='filled-in chk-col-yellow'><label for='"+t.description+"'>"+t.description+"</label><br>"}),$("#divReq").append(content),$("#modalRequirement").modal("show")):$.notify("The tenant has not yet submitted any documents!")})}),$(this).on("click","#btnSave",function(n){if($("#frmRequirement").parsley().isValid()){n.preventDefault();var o=url+"/"+myId,a=$("#frmRequirement").serialize();console.log(a),$.ajax({beforeSend:function(e,t){xhrPool.push(e)},type:"PUT",url:o,data:a,success:function(n){console.log(n),t.draw(),e(),$("#modalRequirement").modal("hide")},error:function(e){console.log("Error:",e.responseText)}})}}),$(document).on("hidden.bs.modal","#modalRequirement",function(){$("#divReq").empty()})});