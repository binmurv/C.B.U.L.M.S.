$(document).ready(function(){function a(){title="PDC Successfully Updated!",$.notify(title,"success",{timer:1e3})}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),table=$("#myTable").DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:dataurl,columns:[{data:"code"},{data:"status"},{data:"for_date"},{data:"description"},{data:"amount"},{data:"signatory"},{data:"action"}]}),$(this).on("click","#btnEditPDC",function(){var a=$(this).val();$.get(url+"/"+a+"/editPDC",function(a){$("#myId").val(a.id),$("#bank").val(a.bank_id),$("#code").val(a.code),$("#amount").val(a.amount),$("#for_date").val(a.for_date),$("#myModal").modal("show")})}),$(this).on("click","#btnShowDetails",function(){var a=$(this).val();$.get(url+"/"+a+"/usedPDC",function(a){$("#dispBank").val(a.pdc.bank),$("#dispPDC").val(a.pdc.pdc),$("#dispAmount").val(a.pdc.amount),$("#dispFor_date").val(a.pdc.for_date),$("#dispBilling").val(a.pdc.billing),$("#dispPayment").val(a.pdc.payment),$("#dispSignatory").val(a.pdc.signatory),$.each(a.details,function(a,t){content+="<tr><td>"+t.description+"</td> <td>"+t.price+"</td></tr>"}),$("#myList").html(content),$("#modalDetails").modal("show")})}),$("#btnSave").on("click",function(t){myId=$("#myId").val(),formData=$("#myForm").serialize(),$("#myForm").parsley().isValid()&&(t.preventDefault(),$.ajax({type:"PUT",url:url+"/"+myId+"/updatePDC",data:formData,success:function(t){table.draw(),a(),$("#myModal").modal("hide")},error:function(a){console.log("Error:",a.responseText)}}))})});